<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Poll App</title>

    <!-- Style sheets -->
    <link href="Content/bootstrap.css" rel="stylesheet" />
    <link href="Content/index.css" rel="stylesheet" />

</head>
<body ng-app="userManagement" ng-controller="MainCtrl as vm" data-ng-init="vm.registerToken()">

    <!-- Navbar -->
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-brand">Poll Application</div>
            <div class="nav navbar-nav navbar-right">
                <form ng-hide="vm.isLoggedIn" class="navbar-form navbar-right">

                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Username" ng-model="vm.userData.username" required>
                    </div>

                    <div class="form-group">
                        <input type="password" class="form-control" placeholder="Password" ng-model="vm.userData.password" required>
                    </div>

                    <button type="submit" class="btn btn-default" ng-click="vm.login()">Login</button>

                    <div ng-show="vm.message">{{vm.message}}</div>
                </form>
                <ul class="nav navbar-nav" ng-if="vm.isLoggedIn">
                    <li><p class="navbar-text">Hello, {{vm.userData.username}}</p></li>
                    <li><button class="btn btn-default" ng-click="vm.logout()">Logout</button></li>
                </ul>

            </div>


        </div>
        
    </nav>

    <!-- Container -->
    <div class="container">
        <center><h2>Register</h2></center>
        <form class="form-horizontal" role="form" ng-hide="vm.isLoggedIn">
            <div class="form-group">
                <label class="control-label col-sm-2" for="username">Username:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="username" placeholder="Enter username" ng-model="vm.userDataRegistration.username" required>
                </div>
            </div>

            <div class="form-group">
                <label class="control-label col-sm-2" for="email">Email:</label>
                <div class="col-sm-10">
                    <input type="email" class="form-control" id="email" placeholder="Enter email" ng-model="vm.userDataRegistration.email" required>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="pwd">Password:</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="password" placeholder="Enter password" ng-model="vm.userDataRegistration.password" required>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="pwd">Confirm password:</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="password" placeholder="Re-enter password" ng-model="vm.confirm_password" required>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default" ng-click="vm.registerUser()">Register</button>
                </div>
            </div>
        </form>
        <div ng-show="vm.message">{{vm.message}}</div>
        <div ng-if="vm.isLoggedIn" ng-include="'app/user/userListView.html'"></div>
    </div>

    <!-- Library Scripts -->
    <script src="scripts/angular.js"></script>
    <script src="Scripts/angular-resource.js"></script>
    <script src="Scripts/angular-cookies.js"></script>

    <!-- Application Script -->
    <script src="app/app.js"></script>

    <!-- Services -->
    <script src="common/common.services.js"></script>
    <script src="common/userResource.js"></script>
    <script src="common/userAccount.js"></script>

    <!-- Product Controllers -->
    <script src="app/user/userListCtrl.js"></script>
    <script src="app/mainCtrl.js"></script>
</body>
</html>